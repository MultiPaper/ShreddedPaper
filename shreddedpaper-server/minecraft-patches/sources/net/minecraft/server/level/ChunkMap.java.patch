--- a/net/minecraft/server/level/ChunkMap.java
+++ b/net/minecraft/server/level/ChunkMap.java
@@ -708,7 +_,7 @@
     }
 
     // Paper start - optimise chunk tick iteration
-    private boolean isChunkNearPlayer(final ChunkMap chunkMap, final ChunkPos chunkPos, final LevelChunk levelChunk) {
+    public boolean isChunkNearPlayer(final ChunkMap chunkMap, final ChunkPos chunkPos, final LevelChunk levelChunk) { // ShreddedPaper - make public
         final ca.spottedleaf.moonrise.patches.chunk_system.level.chunk.ChunkData chunkData = ((ca.spottedleaf.moonrise.patches.chunk_system.level.chunk.ChunkSystemLevelChunk)levelChunk).moonrise$getChunkHolder().holderData;
         final ca.spottedleaf.moonrise.common.misc.NearbyPlayers.TrackedChunk nearbyPlayers = chunkData.nearbyPlayers;
         if (nearbyPlayers == null) {
@@ -1003,6 +_,7 @@
                 } else {
                     ChunkMap.TrackedEntity trackedEntity = new ChunkMap.TrackedEntity(entity, i, updateInterval, type.trackDeltas());
                     this.entityMap.put(entity.getId(), trackedEntity);
+                    this.level.getChunkSource().tickingRegions.addTrackedEntity(entity); // ShreddedPaper
                     // Paper start - optimise entity tracker
                     if (((ca.spottedleaf.moonrise.patches.entity_tracker.EntityTrackerEntity)entity).moonrise$getTrackedEntity() != null) {
                         throw new IllegalStateException("Entity is already tracked");
@@ -1036,6 +_,7 @@
 
         ChunkMap.TrackedEntity trackedEntity1 = this.entityMap.remove(entity.getId());
         if (trackedEntity1 != null) {
+            this.level.getChunkSource().tickingRegions.removeTrackedEntity(entity); // ShreddedPaper - only remove if it actually existed
             trackedEntity1.broadcastRemoved();
         }
         ((ca.spottedleaf.moonrise.patches.entity_tracker.EntityTrackerEntity)entity).moonrise$setTrackedEntity(null); // Paper - optimise entity tracker
@@ -1043,6 +_,7 @@
 
     // Paper start - optimise entity tracker
     private void newTrackerTick() {
+        if (true) return; // ShreddedPaper - handle ourselves
         final ca.spottedleaf.moonrise.patches.chunk_system.level.entity.server.ServerEntityLookup entityLookup = (ca.spottedleaf.moonrise.patches.chunk_system.level.entity.server.ServerEntityLookup)((ca.spottedleaf.moonrise.patches.chunk_system.level.ChunkSystemServerLevel)this.level).moonrise$getEntityLookup();;
 
         final ca.spottedleaf.moonrise.common.list.ReferenceList<net.minecraft.world.entity.Entity> trackerEntities = entityLookup.trackerEntities;
@@ -1101,28 +_,28 @@
     }
 
     public void sendToTrackingPlayers(Entity entity, Packet<? super ClientGamePacketListener> packet) {
-        ChunkMap.TrackedEntity trackedEntity = this.entityMap.get(entity.getId());
+        ChunkMap.TrackedEntity trackedEntity = entity.moonrise$getTrackedEntity(); // this.entityMap.get(entity.getId()); // ShreddedPaper - don't use map
         if (trackedEntity != null) {
             trackedEntity.sendToTrackingPlayers(packet);
         }
     }
 
     public void sendToTrackingPlayersFiltered(Entity entity, Packet<? super ClientGamePacketListener> packet, Predicate<ServerPlayer> filter) {
-        ChunkMap.TrackedEntity trackedEntity = this.entityMap.get(entity.getId());
+        ChunkMap.TrackedEntity trackedEntity = entity.moonrise$getTrackedEntity(); // this.entityMap.get(entity.getId()); // ShreddedPaper - don't use map
         if (trackedEntity != null) {
             trackedEntity.sendToTrackingPlayersFiltered(packet, filter);
         }
     }
 
     protected void sendToTrackingPlayersAndSelf(Entity entity, Packet<? super ClientGamePacketListener> packet) {
-        ChunkMap.TrackedEntity trackedEntity = this.entityMap.get(entity.getId());
+        ChunkMap.TrackedEntity trackedEntity = entity.moonrise$getTrackedEntity(); // this.entityMap.get(entity.getId()); // ShreddedPaper - don't use map
         if (trackedEntity != null) {
             trackedEntity.sendToTrackingPlayersAndSelf(packet);
         }
     }
 
     public boolean isTrackedByAnyPlayer(Entity entity) {
-        ChunkMap.TrackedEntity trackedEntity = this.entityMap.get(entity.getId());
+        ChunkMap.TrackedEntity trackedEntity = entity.moonrise$getTrackedEntity(); // this.entityMap.get(entity.getId()); // ShreddedPaper - don't use map
         return trackedEntity != null && !trackedEntity.seenBy.isEmpty();
     }
 
