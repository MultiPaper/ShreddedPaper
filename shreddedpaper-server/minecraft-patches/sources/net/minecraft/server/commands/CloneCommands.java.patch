--- a/net/minecraft/server/commands/CloneCommands.java
+++ b/net/minecraft/server/commands/CloneCommands.java
@@ -8,9 +_,12 @@
 import com.mojang.brigadier.exceptions.Dynamic2CommandExceptionType;
 import com.mojang.brigadier.exceptions.SimpleCommandExceptionType;
 import com.mojang.logging.LogUtils;
+import io.multipaper.shreddedpaper.ShreddedPaper;
 import java.util.Deque;
 import java.util.List;
 import java.util.function.Predicate;
+
+import io.multipaper.shreddedpaper.util.ObjectHolder;
 import net.minecraft.commands.CommandBuildContext;
 import net.minecraft.commands.CommandSourceStack;
 import net.minecraft.commands.Commands;
@@ -233,6 +_,7 @@
             } else if (serverLevel1.isDebug()) {
                 throw ERROR_FAILED.create();
             } else {
+                ShreddedPaper.ensureSync(serverLevel1, blockPos2, () -> { // ShreddedPaper - run on correct region thread
                 List<CloneCommands.CloneBlockInfo> list = Lists.newArrayList();
                 List<CloneCommands.CloneBlockInfo> list1 = Lists.newArrayList();
                 List<CloneCommands.CloneBlockInfo> list2 = Lists.newArrayList();
@@ -329,6 +_,15 @@
                     }
 
                     serverLevel1.getBlockTicks().copyAreaFrom(serverLevel.getBlockTicks(), boundingBox, blockPos4);
+
+                    // ShreddedPaper start - clear cached chunk packets for destination chunks
+                    for (int chunkX = boundingBox1.minX() >> 4; chunkX <= boundingBox1.maxX() >> 4; chunkX++) {
+                        for (int chunkZ = boundingBox1.minZ() >> 4; chunkZ <= boundingBox1.maxZ() >> 4; chunkZ++) {
+                            net.minecraft.world.level.chunk.LevelChunk chunk = serverLevel1.getChunkIfLoaded(chunkX, chunkZ);
+                            if (chunk != null) chunk.cachedChunkPacket = null;
+                        }
+                    }
+                    // ShreddedPaper end - clear cached chunk packets for destination chunks
                 } catch (Throwable var35) {
                     try {
                         scopedCollector.close();
@@ -336,17 +_,19 @@
                         var35.addSuppressed(var34);
                     }
 
-                    throw var35;
+                    throw new RuntimeException(var35); // ShreddedPaper - run on correct region thread - wrap in RuntimeException for lambda
                 }
 
                 scopedCollector.close();
                 if (i2 == 0) {
-                    throw ERROR_FAILED.create();
+                    source.sendFailure(Component.translatable("commands.clone.failed")); // ShreddedPaper - run on correct region thread - send failure message instead of throwing
                 } else {
                     int i3 = i2;
                     source.sendSuccess(() -> Component.translatable("commands.clone.success", i3), true);
-                    return i2;
+                    // return i2; // ShreddedPaper - run on correct region thread
                 }
+                }); // ShreddedPaper - run on correct region thread
+                return 1; // ShreddedPaper - run on correct region thread
             }
         }
     }
